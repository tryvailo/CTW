# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

1. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–æ–ª—å–Ω–∏—Ü—ã (`hospital-details-schema.js`)
2. ‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`prompts-config.js`)
3. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `extractHospitalDetails()` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π
4. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getMainHospitalUrl()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è URL –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (`--mode=fast|full`)
6. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `main()` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ–∂–∏–º–æ–≤
7. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `scrapePrivateCosts()` –¥–ª—è –ø—Ä–∏–µ–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `mode`

## ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

1. ‚è≥ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –º–µ—Ä–∂–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∂–∏–º–µ "fast"
2. ‚è≥ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ —Ä–µ–∂–∏–º–µ "full"
3. ‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã CSV (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `details_last_updated`)

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–ª–∏–Ω–∏–∫

–í —Ñ—É–Ω–∫—Ü–∏–∏ `scrapePrivateCosts()` –≤ —Å–µ–∫—Ü–∏–∏ `// ===== EXTRACT CLINICS =====`:

**–†–µ–∂–∏–º "fast":**
- –ü–∞—Ä—Å–∏–º —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ `price` –∏ `last_updated`
- –ß–∏—Ç–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π CSV –∏ –º–µ—Ä–∂–∏–º –¥–∞–Ω–Ω—ã–µ (—Å–æ—Ö—Ä–∞–Ω—è–µ–º `url`, `phone`, `address`)

**–†–µ–∂–∏–º "full":**
- –ü–∞—Ä—Å–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ü–µ–¥—É—Ä—ã ‚Üí —Ü–µ–Ω–∞
- –ü–∞—Ä—Å–∏–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –¥–µ—Ç–∞–ª–∏ (url, phone, address, rating)
- –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –ø–æ–ª—è, –≤–∫–ª—é—á–∞—è `details_last_updated`

### 2. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –º–µ—Ä–∂–∏–Ω–≥–∞

```javascript
function mergeClinicData(existingClinic, newClinic, mode) {
  if (mode === 'fast') {
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ü–µ–Ω—É
    return {
      ...existingClinic,
      price: newClinic.price,
      last_updated: newClinic.last_updated
      // url, phone, address –æ—Å—Ç–∞—é—Ç—Å—è –∏–∑ existingClinic
    };
  } else {
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –ø–æ–ª—è
    return {
      ...existingClinic,
      ...newClinic,
      details_last_updated: new Date().toISOString().split('T')[0]
    };
  }
}
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É CSV

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `details_last_updated` –≤:
- `scripts/scraper.js` - –∑–∞–≥–æ–ª–æ–≤–∫–∏ CSV
- `lib/types.ts` - TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `scripts/utils.js` - –≤–∞–ª–∏–¥–∞—Ü–∏—é

### 4. –°–æ–∑–¥–∞—Ç—å GitHub Actions workflows

- `bi-weekly-price-update.yml` - –∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏, —Ä–µ–∂–∏–º `fast`
- `quarterly-details-update.yml` - —Ä–∞–∑ –≤ 3 –º–µ—Å—è—Ü–∞, —Ä–µ–∂–∏–º `full`

