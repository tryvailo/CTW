ğŸš€ Starting healthcare data scraper...
============================================================

ğŸ“¡ Checking site availability...
  My Planned Care: âœ… Available
  PHIN: âœ… Available

ğŸ“Š Scraping 15 combinations...

[1/15] Processing cataract in London...

[cataract in London] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[cataract in London] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "London",
  "postcode": "IG4 5PZ",
  "price_gbp": 2796,
  "avg_uk_price": 2980,
  "rating_count": 19,
  "rating_stars": 3.3,
  "hospital_name": "Spire London East Hospital",
  "price_max_gbp": 2796,
  "price_min_gbp": 2796,
  "procedure_name": "Cataract Surgery",
  "price_range_uk_max": 4766,
  "price_range_uk_min": 1854
}
  âœ… TreatmentConnect: Found cost data from Spire London East Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[2/15] Processing cataract in Manchester...

[cataract in Manchester] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[cataract in Manchester] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Manchester",
  "postcode": "CM1 7GU",
  "price_gbp": 2894,
  "avg_uk_price": 2980,
  "rating_count": 16,
  "rating_stars": 3.9,
  "hospital_name": "Ramsay Springfield Hospital",
  "price_max_gbp": 2894,
  "price_min_gbp": 2894,
  "procedure_name": "Cataract Surgery",
  "price_range_uk_max": 4766,
  "price_range_uk_min": 1854
}
  âœ… TreatmentConnect: Found cost data from Ramsay Springfield Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[3/15] Processing cataract in Birmingham...

[cataract in Birmingham] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[cataract in Birmingham] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Birmingham",
  "postcode": "B91 2PP",
  "price_gbp": 3143,
  "avg_uk_price": 2980,
  "rating_count": 6,
  "rating_stars": 3.4,
  "hospital_name": "Spire Parkway Hospital",
  "price_max_gbp": 3143,
  "price_min_gbp": 3143,
  "procedure_name": "Cataract Surgery",
  "price_range_uk_max": 4766,
  "price_range_uk_min": 1854
}
  âœ… TreatmentConnect: Found cost data from Spire Parkway Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[4/15] Processing cataract in Leeds...

[cataract in Leeds] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[cataract in Leeds] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Leeds",
  "postcode": "LS8 1NT",
  "price_gbp": 2941,
  "avg_uk_price": 2980,
  "rating_count": 7,
  "rating_stars": 4.6,
  "hospital_name": "Spire Leeds Hospital",
  "price_max_gbp": 2941,
  "price_min_gbp": 2941,
  "procedure_name": "Cataract Surgery",
  "price_range_uk_max": 4766,
  "price_range_uk_min": 1854
}
  âœ… TreatmentConnect: Found cost data from Spire Leeds Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[5/15] Processing cataract in Bristol...

[cataract in Bristol] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âš ï¸  Retry 1 failed: Request failed with status code 503
  Attempt 2/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[cataract in Bristol] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Bristol",
  "postcode": "BS6 6UT",
  "price_gbp": 3670,
  "avg_uk_price": 2980,
  "rating_count": 12,
  "rating_stars": 4.2,
  "hospital_name": "Spire Bristol Hospital",
  "price_max_gbp": 3670,
  "price_min_gbp": 3670,
  "procedure_name": "Cataract Surgery",
  "price_range_uk_max": 4766,
  "price_range_uk_min": 1854
}
  âœ… TreatmentConnect: Found cost data from Spire Bristol Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[6/15] Processing hip in London...

[hip in London] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[hip in London] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "London",
  "postcode": "E1 4NL",
  "price_gbp": 12595,
  "avg_uk_price": 14485,
  "rating_count": 45,
  "rating_stars": 2.7,
  "hospital_name": "The London Independent Hospital, part of Circle Health Group",
  "price_max_gbp": 12595,
  "price_min_gbp": 12595,
  "procedure_name": "Hip Replacement",
  "price_range_uk_max": 17960,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from The London Independent Hospital, part of Circle Health Group
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[7/15] Processing hip in Manchester...

[hip in Manchester] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[hip in Manchester] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Manchester",
  "postcode": "M20 2AF",
  "price_gbp": 14055,
  "avg_uk_price": 14485,
  "rating_count": 6,
  "rating_stars": 5,
  "hospital_name": "Spire Manchester Hospital",
  "price_max_gbp": 14055,
  "price_min_gbp": 14055,
  "procedure_name": "Hip Replacement",
  "price_range_uk_max": 17960,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Manchester Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[8/15] Processing hip in Birmingham...

[hip in Birmingham] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[hip in Birmingham] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Birmingham",
  "postcode": "B91 2PP",
  "price_gbp": 14906,
  "avg_uk_price": 14485,
  "rating_count": 6,
  "rating_stars": 3.4,
  "hospital_name": "Spire Parkway Hospital",
  "price_max_gbp": 14906,
  "price_min_gbp": 14906,
  "procedure_name": "Hip Replacement",
  "price_range_uk_max": 17960,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Parkway Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[9/15] Processing hip in Leeds...

[hip in Leeds] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[hip in Leeds] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Leeds",
  "postcode": "LS8 1NT",
  "price_gbp": 14730,
  "avg_uk_price": 14485,
  "rating_count": 7,
  "rating_stars": 4.6,
  "hospital_name": "Spire Leeds Hospital",
  "price_max_gbp": 14730,
  "price_min_gbp": 14730,
  "procedure_name": "Hip Replacement",
  "price_range_uk_max": 17960,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Leeds Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[10/15] Processing hip in Bristol...

[hip in Bristol] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[hip in Bristol] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Bristol",
  "postcode": "BS6 6UT",
  "price_gbp": 14750,
  "avg_uk_price": 14485,
  "rating_count": 12,
  "rating_stars": 4.2,
  "hospital_name": "Spire Bristol Hospital",
  "price_max_gbp": 14750,
  "price_min_gbp": 14750,
  "procedure_name": "Hip Replacement",
  "price_range_uk_max": 17960,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Bristol Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[11/15] Processing knee in London...

[knee in London] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[knee in London] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "London",
  "postcode": "E1 4NL",
  "price_gbp": 11545,
  "avg_uk_price": 14941,
  "rating_count": 45,
  "rating_stars": 2.7,
  "hospital_name": "The London Independent Hospital, part of Circle Health Group",
  "price_max_gbp": 11545,
  "price_min_gbp": 11545,
  "procedure_name": "Knee Replacement",
  "price_range_uk_max": 17840,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from The London Independent Hospital, part of Circle Health Group
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âš ï¸  Retry 1 failed: Request failed with status code 503
  Attempt 2/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[12/15] Processing knee in Manchester...

[knee in Manchester] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[knee in Manchester] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Manchester",
  "postcode": "M20 2AF",
  "price_gbp": 14545,
  "avg_uk_price": 14941,
  "rating_count": 6,
  "rating_stars": 5,
  "hospital_name": "Spire Manchester Hospital",
  "price_max_gbp": 14545,
  "price_min_gbp": 14545,
  "procedure_name": "Knee Replacement",
  "price_range_uk_max": 17840,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Manchester Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[13/15] Processing knee in Birmingham...

[knee in Birmingham] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[knee in Birmingham] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Birmingham",
  "postcode": "B91 2PP",
  "price_gbp": 14880,
  "avg_uk_price": 14941,
  "rating_count": 6,
  "rating_stars": 3.4,
  "hospital_name": "Spire Parkway Hospital",
  "price_max_gbp": 14880,
  "price_min_gbp": 14880,
  "procedure_name": "Knee Replacement",
  "price_range_uk_max": 17840,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Parkway Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[14/15] Processing knee in Leeds...

[knee in Leeds] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[knee in Leeds] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Leeds",
  "postcode": "LS8 1NT",
  "price_gbp": 15060,
  "avg_uk_price": 14941,
  "rating_count": 7,
  "rating_stars": 4.6,
  "hospital_name": "Spire Leeds Hospital",
  "price_max_gbp": 15060,
  "price_min_gbp": 15060,
  "procedure_name": "Knee Replacement",
  "price_range_uk_max": 17840,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Leeds Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

[15/15] Processing knee in Bristol...

[knee in Bristol] Scraping NHS waiting times...
  ğŸ” Trying JSON Mode extraction...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found NHS wait time data

[knee in Bristol] Scraping private costs...
  ğŸ” Trying TreatmentConnect (PRIMARY)...
  Attempt 1/2 (JSON Mode)...
  ğŸ“‹ TreatmentConnect returned: {
  "city": "Bristol",
  "postcode": "BS6 6UT",
  "price_gbp": 15995,
  "avg_uk_price": 14941,
  "rating_count": 12,
  "rating_stars": 4.2,
  "hospital_name": "Spire Bristol Hospital",
  "price_max_gbp": 15995,
  "price_min_gbp": 15995,
  "procedure_name": "Knee Replacement",
  "price_range_uk_max": 17840,
  "price_range_uk_min": 10422
}
  âœ… TreatmentConnect: Found cost data from Spire Bristol Hospital
  ğŸ” Trying JSON Mode for clinics...
  Attempt 1/2 (JSON Mode)...
  âœ… JSON Mode: Found 5 clinic(s)

ğŸ” Validating data...

ğŸ’¾ Writing CSV files...
âœ… Wrote 15 rows to public/data/nhs_waits.csv
âœ… Wrote 15 rows to public/data/private_costs.csv
âœ… Wrote 75 rows to public/data/clinics.csv

============================================================
âœ… Scraping complete!
ğŸ“Š Results:
   NHS waits: 15 rows
   Private costs: 15 rows
   Clinics: 75 rows
â±ï¸  Total time: 412s
============================================================
