#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–¥–∞ –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π CTW

echo "üöÄ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π CTW"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –º—ã –≤ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
if [ ! -d .git ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω .git –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ remote
if git remote | grep -q origin; then
    echo "‚úÖ Remote 'origin' —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
    git remote -v
else
    echo "‚ö†Ô∏è  Remote 'origin' –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
    echo ""
    echo "–í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:"
    echo "–ü—Ä–∏–º–µ—Ä: https://github.com/YOUR_USERNAME/CTW.git"
    echo "–ò–ª–∏: git@github.com:YOUR_USERNAME/CTW.git"
    read -r REPO_URL
    
    if [ -z "$REPO_URL" ]; then
        echo "‚ùå URL –Ω–µ –≤–≤–µ–¥–µ–Ω. –í—ã—Ö–æ–¥."
        exit 1
    fi
    
    git remote add origin "$REPO_URL"
    echo "‚úÖ Remote –¥–æ–±–∞–≤–ª–µ–Ω: $REPO_URL"
fi

echo ""
echo "üì§ Push –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π..."
echo ""

# Push –≤ main –≤–µ—Ç–∫—É
git push -u origin main

if [ $? -eq 0 ]; then
    echo ""
    echo "‚úÖ –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!"
    echo ""
    echo "–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
    echo "1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub"
    echo "2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ Vercel –¥–ª—è –¥–µ–ø–ª–æ—è"
    echo "3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
else
    echo ""
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ push"
    echo ""
    echo "–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:"
    echo "1. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ –Ω–∞ GitHub"
    echo "2. –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞"
    echo "3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã - –≤—ã–ø–æ–ª–Ω–∏—Ç–µ git pull —Å–Ω–∞—á–∞–ª–∞"
fi

